<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OpenAI Mega App</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" />
    <link rel="stylesheet" href="/static/style.css" />
  </head>
  <body>
    <header class="topbar">
      <div class="topbar__brand">
        <span class="topbar__logo" aria-hidden="true">✨</span>
        <span class="topbar__title">OpenAI Mega App</span>
      </div>
      <div class="topbar__actions">
        <div class="dropdown" data-dropdown>
          <button
            id="add-widget"
            class="btn btn--ghost"
            type="button"
            aria-haspopup="menu"
            aria-expanded="false"
          >
            Add Widget
            <span class="dropdown__caret" aria-hidden="true">▾</span>
          </button>
          <div class="dropdown__menu" role="menu" aria-hidden="true">
            <button class="dropdown__item" data-widget-type="chat" type="button">New chat workspace</button>
            <button class="dropdown__item" data-widget-type="image" type="button">Image studio</button>
            <button class="dropdown__item" data-widget-type="video" type="button">Video lab</button>
            <button class="dropdown__item" data-widget-type="agent" type="button">Agents control room</button>
            <button class="dropdown__item" data-widget-type="world" type="button">3D world creator</button>
            <button class="dropdown__item" data-widget-type="code" type="button">Code sandbox</button>
            <button class="dropdown__item" data-widget-type="document" type="button">Document writer</button>
            <button class="dropdown__item" data-widget-type="presentation" type="button">Presentation builder</button>
            <button class="dropdown__item" data-widget-type="data" type="button">Data visualizer</button>
            <button class="dropdown__item" data-widget-type="game" type="button">Game builder</button>
            <button class="dropdown__item" data-widget-type="avatar" type="button">Avatar creator</button>
            <button class="dropdown__item" data-widget-type="simulation" type="button">Simulation sandbox</button>
            <button class="dropdown__item" data-widget-type="whiteboard" type="button">Collaboration whiteboard</button>
            <button class="dropdown__item" data-widget-type="knowledge" type="button">Knowledge board</button>
          </div>
        </div>
        <button id="data-toggle" class="btn btn--ghost" type="button">Data</button>
        <button id="agents-toggle" class="btn btn--ghost" type="button">Agents</button>
        <button id="audio-toggle" class="btn btn--ghost" type="button">Audio</button>
        <button id="studio-toggle" class="btn btn--ghost" type="button">
          <span>Studio</span>
        </button>
      </div>
    </header>

    <header class="hero">
      <div class="hero__content">
        <h1>OpenAI Mega App</h1>
        <p>
          A product-minded playground showcasing the latest OpenAI APIs, rich conversation
          management, and a generative studio backed by SQLite.
        </p>
      </div>
      <div class="hero__badge">API-first · Product Ready · PM Portfolio</div>
    </header>

    <main class="workspace">
      <div class="canvas-controls">
        <div class="canvas-controls__group">
          <span class="canvas-controls__label">Canvas zoom</span>
          <div class="canvas-controls__buttons">
            <button class="canvas-controls__btn" data-zoom="out" type="button" aria-label="Zoom out">−</button>
            <button class="canvas-controls__btn canvas-controls__btn--reset" data-zoom="reset" type="button">Reset</button>
            <button class="canvas-controls__btn" data-zoom="in" type="button" aria-label="Zoom in">+</button>
          </div>
        </div>
        <span id="zoom-indicator" class="canvas-controls__value">100%</span>
      </div>
      <div id="canvas-wrapper" class="canvas-wrapper">
        <div id="canvas" class="canvas">
          <div id="canvas-content" class="canvas__content">
            <section
              id="widget-conversations"
              class="widget"
              data-widget
              data-lock-close="true"
              style="width: 320px; height: 460px; left: 24px; top: 24px;"
            >
              <header class="widget__header" data-drag-handle>
                <h2 class="widget__title">Conversations</h2>
                <div class="widget__toolbar">
                  <button id="new-conversation" class="btn btn--primary btn--sm" type="button">
                    New conversation
                  </button>
                  <button class="widget__icon" data-action="minimize" type="button" aria-label="Minimize">
                    ▭
                  </button>
                </div>
              </header>
              <div class="widget__body">
                <ul id="conversation-list" class="conversation-list"></ul>
              </div>
              <div class="widget__resize" data-resize aria-hidden="true"></div>
            </section>

            <section
              id="widget-chat"
              class="widget"
              data-widget
              style="width: 520px; height: 520px; left: 380px; top: 80px;"
              data-widget-type="chat"
            >
              <header class="widget__header" data-drag-handle>
                <h2 class="widget__title">Chat workspace</h2>
                <div class="widget__toolbar">
                  <button class="widget__icon" data-action="minimize" type="button" aria-label="Minimize">
                    ▭
                  </button>
                  <button class="widget__icon" data-action="close" type="button" aria-label="Close">
                    ✕
                  </button>
                </div>
              </header>
              <div class="widget__body">
                <div id="chat-thread" class="chat-thread"></div>
                <form id="chat-form" class="chat-form">
                  <textarea
                    id="chat-input"
                    placeholder="Ask anything about your next product milestone..."
                  ></textarea>
                  <div class="chat-form__controls">
                    <select id="model-select">
                      <option value="gpt-5-chat-latest" selected>gpt-5-chat-latest</option>
                      <option value="gpt-4.1">gpt-4.1</option>
                      <option value="gpt-4.1-mini">gpt-4.1-mini</option>
                      <option value="o4-mini">o4-mini</option>
                    </select>
                    <button type="submit" class="btn btn--primary">Send</button>
                  </div>
                </form>
              </div>
              <div class="widget__resize" data-resize aria-hidden="true"></div>
            </section>

            <section
              id="widget-feed"
              class="widget"
              data-widget
              style="width: 480px; height: 480px; left: 960px; top: 60px;"
              data-widget-type="feed"
            >
              <header class="widget__header" data-drag-handle>
                <h2 class="widget__title">Generative feed</h2>
                <div class="widget__toolbar">
                  <button class="widget__icon" data-action="minimize" type="button" aria-label="Minimize">
                    ▭
                  </button>
                </div>
              </header>
              <div class="widget__body">
                <div class="feed-controls">
                  <input
                    id="feed-search"
                    type="search"
                    placeholder="Search generated assets..."
                    aria-label="Search generated assets"
                  />
                  <select id="feed-type-filter" aria-label="Filter by asset type">
                    <option value="all">All assets</option>
                    <option value="image">Images</option>
                    <option value="video">Videos</option>
                  </select>
                </div>
                <div id="gallery" class="gallery"></div>
              </div>
              <div class="widget__resize" data-resize aria-hidden="true"></div>
            </section>
          </div>
        </div>
      </div>
    </main>

    <section id="studio" class="studio" aria-hidden="true">
      <div class="studio__surface">
        <header class="studio__header">
          <div>
            <p class="studio__eyebrow">Creator Tools</p>
            <h2>Studio Workspace</h2>
          </div>
          <div class="studio__header-actions">
            <button id="studio-close" class="btn" type="button">Close</button>
          </div>
        </header>
        <div class="studio__body">
          <aside class="studio__sidebar" aria-label="Studio navigation">
            <button class="studio__nav-btn is-active" data-view="generate" type="button">
              Generate
            </button>
            <button class="studio__nav-btn" data-view="gallery" type="button">Gallery</button>
            <button class="studio__nav-btn" data-view="composer" type="button">Studio</button>
          </aside>
          <div class="studio__workspace">
            <section
              id="studio-view-generate"
              class="studio-view is-active"
              data-view="generate"
            >
              <header class="studio-view__header">
                <h3>Create images &amp; motion</h3>
                <p>Craft prompts, tweak aspect ratios, and publish straight to your feed.</p>
              </header>
              <form id="studio-generate-form" class="studio-form">
                <label class="studio-field">
                  <span>Prompt</span>
                  <textarea
                    id="studio-prompt"
                    placeholder="Imagine a cinematic product launch storyboard..."
                    required
                  ></textarea>
                </label>
                <div class="studio-form__grid">
                  <label class="studio-field">
                    <span>Asset type</span>
                    <select id="studio-asset-type">
                      <option value="image">Image</option>
                      <option value="video">Video</option>
                    </select>
                  </label>
                  <label class="studio-field">
                    <span>Size</span>
                    <select id="studio-size">
                      <option value="1024x1024">1024 × 1024</option>
                      <option value="512x512">512 × 512</option>
                      <option value="256x256">256 × 256</option>
                    </select>
                  </label>
                  <label class="studio-field">
                    <span>Aspect ratio</span>
                    <select id="studio-aspect">
                      <option value="1:1">1:1</option>
                      <option value="16:9">16:9</option>
                      <option value="9:16">9:16</option>
                      <option value="4:5">4:5</option>
                    </select>
                  </label>
                  <label class="studio-field">
                    <span>Quality</span>
                    <select id="studio-quality">
                      <option value="high">High</option>
                      <option value="medium">Medium</option>
                      <option value="low">Low</option>
                    </select>
                  </label>
                  <label class="studio-field" id="studio-duration-field">
                    <span>Duration (seconds)</span>
                    <input id="studio-duration" type="number" value="8" min="2" max="60" />
                  </label>
                </div>
                <div class="studio-form__actions">
                  <button type="submit" class="btn btn--primary">Generate asset</button>
                  <p class="studio-form__hint">All outputs are saved to the main feed automatically.</p>
                </div>
                <div id="studio-generate-status" class="studio-status" role="status" aria-live="polite"></div>
              </form>
              <div id="studio-generate-preview" class="studio-preview" aria-live="polite"></div>
            </section>

            <section id="studio-view-gallery" class="studio-view" data-view="gallery">
              <header class="studio-view__header">
                <h3>Manage galleries</h3>
                <p>Create custom, on-brand collections and keep them searchable.</p>
              </header>
              <form id="studio-gallery-form" class="studio-form studio-form--inline">
                <label class="studio-field">
                  <span>Name</span>
                  <input id="studio-gallery-name" type="text" placeholder="Summer campaign" required />
                </label>
                <label class="studio-field">
                  <span>Category</span>
                  <input id="studio-gallery-category" type="text" placeholder="Launch" />
                </label>
                <label class="studio-field">
                  <span>Accent color</span>
                  <input id="studio-gallery-color" type="color" value="#10a37f" />
                </label>
                <label class="studio-field">
                  <span>Layout</span>
                  <select id="studio-gallery-layout">
                    <option value="grid">Grid</option>
                    <option value="masonry">Masonry</option>
                    <option value="filmstrip">Filmstrip</option>
                  </select>
                </label>
                <label class="studio-field studio-field--wide">
                  <span>Description</span>
                  <input
                    id="studio-gallery-description"
                    type="text"
                    placeholder="Hero imagery for Q3 growth campaign"
                  />
                </label>
                <button type="submit" class="btn btn--primary">Create gallery</button>
              </form>

              <div class="studio-gallery__controls">
                <input
                  id="studio-gallery-search"
                  type="search"
                  placeholder="Search galleries"
                />
                <select id="studio-gallery-filter">
                  <option value="all">All categories</option>
                </select>
              </div>
              <div id="studio-gallery-list" class="studio-gallery__list"></div>
            </section>

            <section id="studio-view-composer" class="studio-view" data-view="composer">
              <header class="studio-view__header">
                <h3>Video studio</h3>
                <p>Import gallery visuals, arrange scenes, and publish a final video.</p>
              </header>
              <form id="studio-composer-form" class="studio-form studio-form--inline">
                <label class="studio-field">
                  <span>Title</span>
                  <input id="composer-title" type="text" placeholder="Vertical launch reel" />
                </label>
                <label class="studio-field">
                  <span>Orientation</span>
                  <select id="composer-orientation">
                    <option value="vertical">Vertical</option>
                    <option value="landscape">Landscape</option>
                  </select>
                </label>
                <label class="studio-field studio-field--wide">
                  <span>Description</span>
                  <input id="composer-description" type="text" placeholder="Optional treatment notes" />
                </label>
              </form>
              <div class="studio-composer">
                <div class="studio-composer__library">
                  <div class="studio-composer__library-header">
                    <h4>Source library</h4>
                    <select id="composer-gallery-select">
                      <option value="feed">Main feed</option>
                    </select>
                  </div>
                  <div id="composer-library" class="studio-composer__grid"></div>
                </div>
                <div class="studio-composer__timeline">
                  <div class="studio-composer__timeline-header">
                    <h4>Timeline</h4>
                    <button id="composer-clear" type="button" class="btn">Clear</button>
                  </div>
                  <ol id="composer-timeline" class="studio-composer__timeline-list"></ol>
                  <button id="composer-render" class="btn btn--primary" type="button">
                    Render final video
                  </button>
                  <p class="studio-form__hint">
                    The rendered video will appear in your main feed and can be added to any gallery.
                  </p>
                </div>
              </div>
            </section>
          </div>
        </div>
      </div>
    </section>

    <section id="agents" class="agents" aria-hidden="true">
      <div class="agents__surface">
        <header class="agents__header">
          <div>
            <p class="agents__eyebrow">Autonomous crew</p>
            <h2>Agents workspace</h2>
            <p>Spin up assistants, orchestrate workflows, and iterate on capabilities with AI help.</p>
          </div>
          <button id="agents-close" class="btn" type="button">Close</button>
        </header>
        <div class="agents__body">
          <aside class="agents__sidebar" aria-label="Agents list">
            <div class="agents__sidebar-header">
              <h3>Your agents</h3>
              <span id="agents-count" class="agents__count">0 active</span>
            </div>
            <ul id="agents-list" class="agents-list"></ul>
            <button id="agents-new-from-plan" class="btn btn--ghost agents__open-builder" type="button">
              Design new agent
            </button>
          </aside>
          <div class="agents__workspace">
            <section class="agents__builder" aria-labelledby="agent-builder-title">
              <div class="agents__builder-header">
                <div>
                  <p class="agents__eyebrow">AI builder</p>
                  <h3 id="agent-builder-title">Ask the AI to blueprint an agent</h3>
                  <p class="agents__subtitle">Describe the outcomes you want; the builder will shape the ideal configuration.</p>
                </div>
                <button id="agent-builder-clear" class="btn btn--ghost btn--sm" type="button">Clear</button>
              </div>
              <form id="agent-builder-form" class="agents__form">
                <label class="agents-field">
                  <span>What do you need the agent to handle?</span>
                  <textarea
                    id="agent-builder-prompt"
                    name="prompt"
                    placeholder="E.g. Turn customer feedback into weekly product briefs"
                    required
                  ></textarea>
                </label>
                <label class="agents-field agents-field--stacked">
                  <span>Additional context (optional)</span>
                  <textarea
                    id="agent-builder-context"
                    name="context"
                    placeholder="Systems, data sources, or collaborators to consider"
                  ></textarea>
                </label>
                <div class="agents__form-actions">
                  <button type="submit" class="btn btn--primary">Generate agent plan</button>
                  <span id="agent-builder-status" class="agents-status" role="status" aria-live="polite"></span>
                </div>
              </form>
              <div id="agent-plan" class="agents-plan" hidden>
                <header class="agents-plan__header">
                  <div>
                    <p class="agents__eyebrow">Proposed agent</p>
                    <h4 id="agent-plan-name"></h4>
                  </div>
                  <div class="agents-plan__actions">
                    <button id="agent-plan-save" class="btn btn--primary btn--sm" type="button">Save agent</button>
                    <button id="agent-plan-dismiss" class="btn btn--ghost btn--sm" type="button">Dismiss</button>
                  </div>
                </header>
                <dl id="agent-plan-details" class="agents-plan__grid"></dl>
              </div>
            </section>
            <section class="agents__detail" id="agent-detail" aria-live="polite"></section>
          </div>
        </div>
      </div>
    </section>

    <section id="data" class="data" aria-hidden="true">
      <div class="data__surface">
        <header class="data__header">
          <div>
            <p class="data__eyebrow">Mega ultimate gallery</p>
            <h2>Data backend</h2>
            <p>
              Every artifact created across the app lives here—audio, agents, visuals, video,
              software widgets, and the conversations that inspired them.
            </p>
          </div>
          <button id="data-close" class="btn" type="button">Close</button>
        </header>
        <div class="data__body">
          <aside class="data__sidebar" aria-label="Inventory overview">
            <h3>Inventory totals</h3>
            <ul id="data-summary" class="data-summary"></ul>
            <p id="data-status" class="data__status" role="status" aria-live="polite"></p>
          </aside>
          <div id="data-catalog" class="data__catalog" aria-live="polite"></div>
        </div>
      </div>
    </section>

    <section id="audio" class="audio" aria-hidden="true">
      <div class="audio__surface">
        <header class="audio__header">
          <div>
            <p class="audio__eyebrow">Sound studio</p>
            <h2>Audio workspace</h2>
            <p>Compose music, narration, and sound effects powered by ElevenLabs.</p>
          </div>
          <button id="audio-close" class="btn" type="button">Close</button>
        </header>
        <div class="audio__body">
          <section class="audio__generator" aria-labelledby="audio-form-title">
            <h3 id="audio-form-title">Create a new track</h3>
            <form id="audio-form" class="audio-form">
              <label class="audio-field">
                <span>Title</span>
                <input id="audio-title" type="text" placeholder="Midnight product launch anthem" required />
              </label>
              <label class="audio-field">
                <span>Creative brief</span>
                <textarea id="audio-prompt" placeholder="Describe the vibe, instruments, and pacing" required></textarea>
              </label>
              <div class="audio-form__grid">
                <label class="audio-field">
                  <span>Style</span>
                  <input id="audio-style" type="text" placeholder="Cinematic electronic" />
                </label>
                <label class="audio-field">
                  <span>Voice / Instrument</span>
                  <input id="audio-voice" type="text" placeholder="Voice ID or instrument" />
                </label>
                <label class="audio-field">
                  <span>Track type</span>
                  <select id="audio-type">
                    <option value="music">Music</option>
                    <option value="sound-effect">Sound effect</option>
                    <option value="voiceover">Voiceover</option>
                  </select>
                </label>
                <label class="audio-field">
                  <span>Duration (seconds)</span>
                  <input id="audio-duration" type="number" min="5" max="600" placeholder="30" />
                </label>
              </div>
              <div class="audio-form__actions">
                <button type="submit" class="btn btn--primary">Generate audio</button>
                <p id="audio-status" class="audio-status" role="status" aria-live="polite"></p>
              </div>
            </form>
          </section>
          <section class="audio__library" aria-labelledby="audio-gallery-title">
            <header class="audio__library-header">
              <div>
                <h3 id="audio-gallery-title">Audio gallery</h3>
                <p id="audio-count" class="audio__count">0 tracks</p>
              </div>
            </header>
            <div id="audio-gallery" class="audio-gallery"></div>
          </section>
        </div>
      </div>
    </section>

    <footer class="footer">
      <p>
        Built for aspiring OpenAI product leaders. Configure your <code>OPENAI_API_KEY</code> to go
        from mock mode to live experiments instantly.
      </p>
    </footer>

    <script src="/static/js/app.js"></script>
  </body>
</html>
